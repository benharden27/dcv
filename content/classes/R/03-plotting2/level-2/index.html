---
title: 'Pretty Maps'
author: Ben Harden
date: '2021-05-05'
level: 2
slug: []
categories: []
tags: []
draft: no
quiz: https://rstudio.cloud/spaces/139933/project/2638301
---

<script src="{{< blogdown/postref >}}index_files/header-attrs/header-attrs.js"></script>


<p>We’re going to apply some of what we’ve learned in the previous level now to making out maps we’ve been making look really nice. I’m going to return to the map I made in <a href="../../03-maps/level-3/">maps level 3</a>. This is just an example - really from here on out your goals and personal preferences will dictate what kinds of mods you want to make to a plot.</p>
<p>Recall, where we got to in that level:</p>
<pre class="r"><code># Load libraries
library(readr)
library(ggplot2)

# Load data 
stations &lt;- stations &lt;- read_csv(&quot;C282_neuston.csv&quot;)</code></pre>
<pre><code>## 
## ── Column specification ────────────────────────────────────────────────────────
## cols(
##   station = col_character(),
##   dttm = col_datetime(format = &quot;&quot;),
##   lon = col_double(),
##   lat = col_double(),
##   temp = col_double(),
##   sal = col_double(),
##   fluor = col_double(),
##   moon_phase = col_double(),
##   moon_mode = col_character(),
##   tow_dist = col_double(),
##   biomass = col_double(),
##   nekt_total_num = col_double(),
##   nekt_total_vol = col_double(),
##   daynight = col_character(),
##   biodens = col_double()
## )</code></pre>
<pre class="r"><code># Make initial map
g &lt;- ggplot(stations) +
  geom_point(aes(lon, lat, size = biodens, color = daynight)) +
  geom_polygon(aes(long,lat, group = group), data = map_data(&quot;world&quot;)) +
  coord_quickmap(xlim = c(-75, -50), ylim = c(7, 45))

g</code></pre>
<p><img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-1-1.png" width="672" /></p>
<p>One thing about this plot is that the x and y labels don’t look very good - it’s hard to tell what the unit is and it’s not really how we are used to seeing maps.</p>
<p>To get nice looking x and y tick labels we probably want to add °N or °W. To do this, we are going to set up a vector of values where we want the ticks using the <code>seq()</code> function and then create a vector of labels for what each tick location should say.</p>
<p>The <code>seq()</code> function makes a sequence of values and takes in three inputs - the start of the sequence, the end of the sequence and the amount to increment between values. e.g.</p>
<pre class="r"><code>seq(4,10,2)</code></pre>
<pre><code>## [1]  4  6  8 10</code></pre>
<p>I’m also using the <code>paste0()</code> function which sticks numbers and words together, e.g.</p>
<pre class="r"><code>paste0(&quot;Hello&quot;,&quot;Ben&quot;)</code></pre>
<pre><code>## [1] &quot;HelloBen&quot;</code></pre>
<p>It can also automatically recognize when you are trying to combine the same thing to the end of a vector of things.</p>
<pre class="r"><code>paste0(1:5, &quot;hello&quot;)</code></pre>
<pre><code>## [1] &quot;1hello&quot; &quot;2hello&quot; &quot;3hello&quot; &quot;4hello&quot; &quot;5hello&quot;</code></pre>
<p>We’re also making use of the <code>abs()</code> function here which returns the absolute value of a number. i.e. positives stay positive, negatives become positive.</p>
<pre class="r"><code>abs(-10)</code></pre>
<pre><code>## [1] 10</code></pre>
<p>We can then use the <code>scale_*_continuous()</code> functions to change the tick locations and labels for the x and y axes.</p>
<pre class="r"><code>xbreaks &lt;- seq(-75,-20,5) # sequence from -75 to -50 in increments of 5
xlabels &lt;- paste0(abs(xbreaks), &quot;°W&quot;) # combine absolute values with &quot;°W&quot;

ybreaks &lt;- seq(10,45,5) # sequence from 10 to 45 in increments of 5
ylabels &lt;- paste0(abs(ybreaks), &quot;°N&quot;) # combine absolute values with &quot;°N&quot;

g &lt;- g +
  scale_x_continuous(breaks = xbreaks, labels = xlabels) +
  scale_y_continuous(breaks = ybreaks, labels = ylabels)

g</code></pre>
<p><img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-6-1.png" width="672" /></p>
<p>Now that I have the axes labeled nicely, I can also go ahead and get rid of the words <code>lon</code> and <code>lat</code> as the tick labels are now pretty self explanatory. We do this using the <code>labs()</code> function and setting any labels we want to disappear to be <code>NULL</code>. While we’re at it, we can also go ahead and add nice labels to the color and size axes.</p>
<pre class="r"><code>g &lt;- g + 
  labs(x = NULL,
       y = NULL,
       color = &quot;Day/Night&quot;,
       size = &quot;Biodensity&quot;)

g</code></pre>
<p><img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-7-1.png" width="672" /></p>
<p>So I’ve got the basic map now with some good features. We also learned in the <a href="../level-1/">last level</a> how to time how to modify the colors you are using. I’ll do that here using the <code>scale_color_brewer()</code> function. (Full brewer palettes can be found <a href="https://ggplot2-book.org/polishing.html">here</a>)</p>
<pre class="r"><code>g &lt;- g +
  scale_color_brewer(palette = &quot;Dark2&quot;)

g</code></pre>
<p><img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-8-1.png" width="672" /></p>
<p>The last few things I’m going to do is play around with the <a href="https://ggplot2-book.org/polishing.html">theme</a> a little. There are tons of themes in ggplot and more that you can get in different packages. You saw some of these in the primer in <a href="../level-1/">level 1</a>. You can also make any modification you want to the theme in the <code>theme()</code> function.</p>
<p>I usually go for a built-in theme that I like and then make a few mods. Don’t worry too much about themes, I just want to show you some of what you can do so you can learn about it’s existence and use it as able.</p>
<p>So, for example, the <code>theme_bw()</code> looks like this:</p>
<pre class="r"><code>g + 
  theme_bw()</code></pre>
<p><img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-9-1.png" width="672" /></p>
<p>But I think the lines are kinda heavy and I don’t like the minor axes lines. I also kinda want a background blue for my map. So I can add these elements to the map using <code>theme()</code>. (tip: going to the <code>theme()</code> help page lists all the things you can do - type: <code>?theme</code> - I do this all the time)</p>
<pre class="r"><code>g +
  theme_bw() +
  theme(panel.grid.minor = element_blank(),
        panel.grid = element_line(size = .1, color = &quot;grey50&quot;),
        panel.background = element_rect(fill = &quot;#C8E3EC&quot;))</code></pre>
<p><img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-10-1.png" width="672" /></p>
<p>In that last line I used a color hex code which in this case was a pale blue. I often use the <a href="https://color.adobe.com/create/color-wheel">Adobe Color</a> web app to find hex value for colors I want to use.</p>
<div id="exercise" class="section level2">
<h2>Exercise</h2>
<p>Play around with this a little to make a pretty map based off the maps we were making in <a href="../../03-maps/level-3/">mapping level 3</a>. Go to the RStudio Cloud assignment below to practice. Change at least one of the following:</p>
<ul>
<li>Color scaling</li>
<li>Axis labels</li>
<li>Theme elements</li>
</ul>
<p>Let me know when you want me to come check out your work with an Exit Ticket.</p>
</div>
